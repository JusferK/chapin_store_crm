<main class="login-container">
  <div class="floating-card">
    <section class="padding image-style">
      <img src="/icon/chapin_store.svg" alt="Logo" />
    </section>
    <section class="padding">
      <form
        class="form-container"
        [formGroup]="loginForm"
        (submit)="onSubmit()"
      >
        <div>
          <p-floatlabel>
            <label for="over_label">Usuario</label>
            <input
              pInputText
              id="over_label"
              autocomplete="off"
              formControlName="username"
              [invalid]="hasError('username', 'required')"
            />
          </p-floatlabel>
          @if (hasError('username', 'required')) {
            <small
              id="over_label"
              style="color: red"
            >Se requiere el usuario</small>
          }
        </div>
        <div>
          <p-floatlabel>
            <p-password
              [feedback]="false"
              inputId="over_label2"
              [toggleMask]="true"
              style="width: 100%"
              class="p-password-input"
              formControlName="password"
              [invalid]="hasError('password', 'required')"
              (focusout)="markAsTouched('password')"
            />
            <label for="over_label2">Contraseña</label>
          </p-floatlabel>
          @if (hasError('password', 'required')) {
            <small
              id="over_label"
              style="color: red"
            >Se requiere la contraseña</small>
          }
        </div>
        <p-button
          label="Iniciar sesion"
          icon="pi pi-sign-in"
          [type]="'submit'"
        />
      </form>
    </section>
  </div>
</main>
<p-dialog
  [visible]="errorModalConfiguration().showErrorModal"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  [style]="{ width: '500px', height: '250px' }"
  [(visible)]="simpleShow"
  (onHide)="closeModal()"
>
  <section class="modal-container">
    <i class="pi pi-exclamation-circle" style="font-size: 2.5rem; color: #2596be"></i>
    <h3>¡Hubo un problema!</h3>
    <p>{{ errorModalConfiguration().message }}</p>
  </section>
</p-dialog>
